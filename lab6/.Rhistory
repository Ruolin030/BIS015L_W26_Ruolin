geom_point()+
geom_smooth(method=lm, se=F)+
labs(title="vegetation richness by mammal species richness")
names(gabon)
gabon %>%
select(veg_rich, veg_dbh) %>%
filter(veg_rich>15 | between(veg_dbh, 50, 60))
gabon %>%
select(land_use, transect_id, veg_rich, rich_mammal_species) %>%
filter(veg_rich>10|rich_mammal_species>10) %>%
arrange(veg_rich)
gabon %>%
select(land_use, transect_id, veg_rich, rich_mammal_species) %>%
filter(veg_rich>10 & rich_mammal_species>10) %>%
arrange(veg_rich)
penguins %>%
distinct() #meaning: no duplicate         #distinct: work for row
penguins %>%
distinct(species) #there are three presented in this row
penguins %>%
distinct(species, island, keep_all=T)
penguins %>%
distinct(island, species, keep_all=T)
penguins %>%
distinct(island, species)
library("tidyverse")
library("janitor") #this will help with cleaning
library("palmerpenguins") #load the palmerpenguins package
options(scipen=999) #turn off scientific notation
names(penguins)
penguins %>%
distinct(species, island, .keep_all=T) #keep unique (island+species) combination!! unique combination
penguins %>%
distinct(species, island, keep_all=T) #keep unique (island+species) combination!! unique combination
penguins %>%
distinct(island, species, keep_=T)
penguins %>%
distinct(island, species.keep_all=T)
penguins %>%
distinct(island, species, ,.keep_all=T)
penguins %>%
mutate(body_mass_kg=body_mass_g/1000) %>%  #new_column=old_column
select(species, body_mass_g, body_mass_kg) %>%
arrange(body_mass_kg)
penguins %>%
mutate(across(ends_with("mm"), ~./10)) %>%
select(species,
bill_length_cm=bill_length_mm,
bill_depth_cm=bill_depth_mm,
flipper_length_cm=flipper_length_mm)
penguins %>%
mutate(across(ends_with("mm"), ~./10)) %>%
penguins %>%
mutate(across(ends_with("mm"), ~./10))
select(bill_length_mm)
penguins %>%
mutate(across(ends_with("mm"), ~./10)) %>% #mutate: changes existing columns/create new columns #mutate(across): apply same function to
select(species, ???                                                                                                 #more than one columns
bill_length_cm=bill_length_mm,
bill_depth_cm=bill_depth_mm,
flipper_length_cm=flipper_length_mm)
penguins %>%
mutate(across(ends_with("mm"), ~./10)) %>% #mutate: changes existing columns/create new columns #mutate(across): apply same function to
select(species,                                                                                                 #more than one columns
bill_length_cm=bill_length_mm,
bill_depth_cm=bill_depth_mm,
flipper_length_cm=flipper_length_mm)
mammals <- mammals %>%
clean_names()
View(mammals)
glimpse(mammals)
mammals %>%
select(newborn, weaning, wean_mass, afr, max_life, litter_size, mass) %>%
mutate(newborn_new=ifelse(newborn == -999, NA, newborn),
weaning_new=ifelse(weaning == -999, NA, weaning),
wean_mass_new=ifelse(wean_mass == -999, NA, wean_mass),
afr_new=ifelse(afr == -999, NA, afr),
max_life_new=ifelse(max_life == -999, NA, max_life),
litter_size_new=ifelse(litter_size == -999, NA, litter_size))
mammals %>%
mutate(newborn_new=ifelse(newborn == -999, NA, newborn),
weaning_new=ifelse(weaning == -999, NA, weaning),
wean_mass_new=ifelse(wean_mass == -999, NA, wean_mass),
afr_new=ifelse(afr == -999, NA, afr),
max_life_new=ifelse(max_life == -999, NA, max_life),
litter_size_new=ifelse(litter_size == -999, NA, litter_size))
mammals %>%
mutate(newborn_new=ifelse(newborn == -999, NA, newborn),
weaning_new=ifelse(weaning == -999, NA, weaning),
wean_mass_new=ifelse(wean_mass == -999, NA, wean_mass),
afr_new=ifelse(afr == -999, NA, afr),
max_life_new=ifelse(max_life == -999, NA, max_life),
litter_size_new=ifelse(litter_size == -999, NA, litter_size)) %>%
select(newborn, weaning, wean_mass, afr, max_life, litter_size, mass)
mammals %>%
select(newborn, weaning, wean_mass, afr, max_life, litter_size, mass) %>%
mutate(newborn_new=ifelse(newborn == -999, NA, newborn),
weaning_new=ifelse(weaning == -999, NA, weaning),
wean_mass_new=ifelse(wean_mass == -999, NA, wean_mass),
afr_new=ifelse(afr == -999, NA, afr),
max_life_new=ifelse(max_life == -999, NA, max_life),
litter_size_new=ifelse(litter_size == -999, NA, litter_size))
penguins %>%
mutate(across(ends_with("mm"), ~./10)) %>% #mutate: changes existing columns/create new columns #mutate(across): apply same function to
select(species,                                                                                                 #more than one columns
bill_length_cm=bill_length_mm,
bill_depth_cm=bill_depth_mm,
flipper_length_cm=flipper_length_mm)
penguins %>%
mutate(across(ends_with("mm"), ~./10)).  #e.g. ~.+
penguins %>%
mutate(across(ends_with("mm"), ~./10))  #e.g. ~.+
View(mammals)
mammals %>%
mutate(newborn_new=ifelse(newborn == -999, NA, newborn),
weaning_new=ifelse(weaning == -999, NA, weaning),
wean_mass_new=ifelse(wean_mass == -999, NA, wean_mass),
afr_new=ifelse(afr == -999, NA, afr),
max_life_new=ifelse(max_life == -999, NA, max_life),
litter_size_new=ifelse(litter_size == -999, NA, litter_size)) %>%
mammals %>%
mutate(newborn_new=ifelse(newborn == -999, NA, newborn),
weaning_new=ifelse(weaning == -999, NA, weaning),
wean_mass_new=ifelse(wean_mass == -999, NA, wean_mass),
afr_new=ifelse(afr == -999, NA, afr),
max_life_new=ifelse(max_life == -999, NA, max_life),
litter_size_new=ifelse(litter_size == -999, NA, litter_size))
mammals <- mammals %>%
mutate(newborn_new=ifelse(newborn == -999, NA, newborn),
weaning_new=ifelse(weaning == -999, NA, weaning),
wean_mass_new=ifelse(wean_mass == -999, NA, wean_mass),
afr_new=ifelse(afr == -999, NA, afr),
max_life_new=ifelse(max_life == -999, NA, max_life),
litter_size_new=ifelse(litter_size == -999, NA, litter_size))
View(mammals)
mammals %>%
mutate(mass_kg=mass/1000) %>%
select(genus, species, mass, mass_kg) %>%
arrange(desc(mass_kg))
names(mammals)
mammals %>%
select(gestation, newborn_new) %>%
ggplot(mapping=aes(x=gestation, y=newborn_new))+
geom_point()+
geom_smooth(method=lm, se=F)+
scale_x_log10()+
scale_y_log10()
mammals %>%
select(gestation, newborn) %>%
ggplot(mapping=aes(x=gestation, y=newborn))+
geom_point()+
geom_smooth(method=lm, se=F)+
scale_x_log10()+
scale_y_log10()
mammals %>%
ggplot(mapping=aes(x=log10(gestation), y=log10(newborn_new)))+
geom_point()+
geom_smooth(method=lm, se=F)
mammals %>%
ggplot(mapping=aes(x=log10(gestation), y=log10(newborn)))+
geom_point()+
geom_smooth(method=lm, se=F)
mammals %>%
slice_max(max_life_new)
mammals %>%
select(genus, species, max_life) %>%
mutate(max_life_new=max_life/12) %>%
arrange(desc(max_life_new))
mammals %>%
ggplot(mapping=aes(x=log10(mass), y=max_life_new))+
geom_point()+
geom_smooth(method="lm")
mammals %>%
ggplot(mapping=aes(x=log10(mass), y=max_life))+
geom_point()+
geom_smooth(method="lm")
mammals %>%
select(genus, species, max_life)) %>%
mammals %>%
select(genus, species, max_life) %>%
slice_max(max_life)
mammals %>%
select(newborn, weaning, wean_mass, afr, max_life, litter_size, mass) %>%
mutate(newborn_new=ifelse(newborn == -999, NA, newborn),
weaning_new=ifelse(weaning == -999, NA, weaning),
wean_mass_new=ifelse(wean_mass == -999, NA, wean_mass),
afr_new=ifelse(afr == -999, NA, afr),
max_life_new=ifelse(max_life == -999, NA, max_life),
litter_size_new=ifelse(litter_size == -999, NA, litter_size))
View(mammals)
mammals %>%
select(newborn, weaning, wean_mass, afr, max_life, litter_size, mass) %>%
mutate(newborn_new=ifelse(newborn == -999, NA, newborn),
weaning_new=ifelse(weaning == -999, NA, weaning),
wean_mass_new=ifelse(wean_mass == -999, NA, wean_mass),
afr_new=ifelse(afr == -999, NA, afr),
max_life_new=ifelse(max_life == -999, NA, max_life),
litter_size_new=ifelse(litter_size == -999, NA, litter_size))
mammals <- read_csv("data/mammal_lifehistories_v2.csv") %>% clean_names()
mammals %>%
select(newborn, weaning, wean_mass, afr, max_life, litter_size, mass) %>%
mutate(newborn_new=ifelse(newborn == -999, NA, newborn),
weaning_new=ifelse(weaning == -999, NA, weaning),
wean_mass_new=ifelse(wean_mass == -999, NA, wean_mass),
afr_new=ifelse(afr == -999, NA, afr),
max_life_new=ifelse(max_life == -999, NA, max_life),
litter_size_new=ifelse(litter_size == -999, NA, litter_size))
mammals %>%
mutate(mass_kg=mass/1000) %>%
select(genus, species, mass, mass_kg) %>%
arrange(desc(mass_kg))
mammals %>%
select(gestation, newborn) %>%
ggplot(mapping=aes(x=gestation, y=newborn))+
geom_point()+
geom_smooth(method=lm, se=F)+
scale_x_log10()+
scale_y_log10()
mammals %>%
ggplot(mapping=aes(x=log10(gestation), y=log10(newborn)))+
geom_point()+
geom_smooth(method=lm, se=F)
mammals %>%
select(genus, species, max_life) %>%
mutate(max_life_new=max_life/12) %>%
arrange(desc(max_life_new))
mammals %>%
select(genus, species, max_life) %>%
slice_max(max_life)
penguins %>%
select(body_mass_g, flipper_length_mm) %>%
ggplot(mapping=aes(x=flipper_length_mm, y=body_mass_g, color=species))+
geom_point()+
geom_smooth(method=lm, se=F)
penguins %>%
select(body_mass_g, flipper_length_mm) %>%
ggplot(mapping=aes(x=flipper_length_mm, y=body_mass_g))+
geom_point(mapping=aes(color=species))+
geom_smooth(method=lm, se=F)
names(penguins)
library("tidyverse")
library("janitor") #this will help with cleaning
library("palmerpenguins") #load the palmerpenguins package
options(scipen=999) #turn off scientific notation
names(penguins)
penguins %>%
select(body_mass_g, flipper_length_mm) %>%
ggplot(mapping=aes(x=flipper_length_mm, y=body_mass_g))+
geom_point()+
geom_smooth(method=lm, se=F)
penguins %>%
select(species, body_mass_g, flipper_length_mm, color=species) %>%
ggplot(mapping=aes(x=flipper_length_mm, y=body_mass_g))+
geom_point()+
geom_smooth(method=lm, se=F)
penguins %>%
select(species, body_mass_g, flipper_length_mm) %>%
ggplot(mapping=aes(x=flipper_length_mm, y=body_mass_g))+
geom_point(mapping=aes(color=species))+
geom_smooth(method=lm, se=F)
penguins %>%
distinct(species, island, .keep_all=T) #keep unique (island+species) combination!! unique combination
mammals %>%
select(newborn, weaning, wean_mass, afr, max_life, litter_size, mass) %>%
mutate(newborn=ifelse(newborn == -999, NA, newborn),
weaning=ifelse(weaning == -999, NA, weaning),
wean_mass=ifelse(wean_mass == -999, NA, wean_mass),
afr=ifelse(afr == -999, NA, afr),
max_life=ifelse(max_life == -999, NA, max_life),
litter_size=ifelse(litter_size == -999, NA, litter_size))
mammals <- mammals %>%
select(newborn, weaning, wean_mass, afr, max_life, litter_size, mass) %>%
mutate(newborn=ifelse(newborn == -999, NA, newborn),
weaning=ifelse(weaning == -999, NA, weaning),
wean_mass=ifelse(wean_mass == -999, NA, wean_mass),
afr=ifelse(afr == -999, NA, afr),
max_life=ifelse(max_life == -999, NA, max_life),
litter_size=ifelse(litter_size == -999, NA, litter_size))
mammals %>%
ggplot(mapping=aes(x=log10(mass), y=max_life))+
geom_point()+
geom_smooth(method="lm")
glimpse(mammals)
mammals <- read_csv("data/mammal_lifehistories_v2.csv") %>% clean_names()
mammals <- mammals %>%
mutate(across(where(is.character), tolower))
mammals <- mammals %>%
mutate(newborn=ifelse(newborn == -999, NA, newborn),
weaning=ifelse(weaning == -999, NA, weaning),
wean_mass=ifelse(wean_mass == -999, NA, wean_mass),
afr=ifelse(afr == -999, NA, afr),
max_life=ifelse(max_life == -999, NA, max_life),
litter_size=ifelse(litter_size == -999, NA, litter_size))
glimpse(mammals)
mammals %>%
distinct(order)
mammals %>%
ggplot(aes(x=order))+
geom_bar()
mammals %>%
ggplot(aes(x=order))+
geom_bar()+
coord_flip()
mammals %>%
ggplot(aes(x=order, y=mass))+
geom_boxplot()+
coord_flip()
mammals %>%
ggplot(aes(x=order, y=log10(mass)))+
geom_boxplot()+
coord_flip()
gabon %>%
filter(land_use=="park")
gabon <- read_csv("data/IvindoData_DryadVersion.csv")
gabon %>%
filter(land_use=="park")
glimpse(gabon)
gabon <- gabon %>%
mutate(across(where(is.character), tolower))
gabon <- gabon %>%
clean_names
gabon
gabon %>%
mutate(across(c(hunt_cat, land_use, transect_id), as.factor))
names(gabon)
names(gabon)
gabon %>%
select(veg_rich, land_use) %>%
ggplot(mapping=aes(x=veg_rich, y=land_use))+
geom_boxplot(mapping=aes(fill=land_use))+
labs(x="vegation richness", y="land use types")
gabon %>%
select(land_use, diversity_all_species) %>%
slice_max(diversity_all_species, n=1)
gabon %>%
select(land_use, diversity_all_species) %>%
arrange(desc(diversity_all_species))
gabon %>%
filter(land_use=="park")
gabon %>%
select(land_use, diversity_all_species)
filter(land_use=="park")
gabon %>%
select(land_use, diversity_all_species)
filter(land_use=="park")
gabon %>%
select(land_use, diversity_all_species)
filter(land_use=="park")
gabon %>%
select(land_use, diversity_all_species) %>%
filter(land_use=="park")
gabon %>%
select(land_use, diversity_all_species) %>%
filter(land_use=="park") %>%
mean(diversity_all_species)
gabon %>%
select(land_use, diversity_all_species) %>%
filter(land_use=="park") %>%
gabon %>%
select(land_use, diversity_all_species) %>%
filter(land_use=="park")
gabon %>%
select(land_use, diversity_all_species) %>%
filter(land_use=="logging")
gabon %>%
select select(land_use, diversity_all_species) %>%
gabon %>%
select(land_use, diversity_all_species) %>%
filter(land_use=="neither")
gabon %>%
select(land_use, diversity_all_species) %>%
filter(land_use=="logging")
gabon %>%
select(land_use, diversity_all_species) %>%
filter(land_use=="park") %>%
mean(2.452, 2.314, 2.288, 2.431, 2.429, 2.566, 2.496)
gabon %>%
filter(land_use=="logging")
logging <- gabon %>%
filter(land_use=="logging")
mean(logging$diversity_all_species)
View(gabon)
parking <- gabon %>%
filter(land_use=="park")
mean(parking$diversity_all_species)
logging <- gabon %>%
filter(land_use=="logging")
mean(logging$diversity_all_species)
neither <- gabon %>%
filter(land_use=="neither")
mean(neither$diveristy_all_species)
mean(neither$diversity_all_species)
mammals %>%
ggplot(mapping=aes(x=log10(mass), y=log10(max_life))+
geom_point()+
geom_smooth(method="lm")
mammals %>%
ggplot(mapping=aes(x=log10(mass), y=log10(max_life)))+
geom_point()+
geom_smooth(method="lm")
library("tidyverse")
library("janitor")
gabon <- read_csv("data/IvindoData_DryadVersion.csv")
glimpse(gabon)
gabon <- gabon %>%
mutate(across(where(is.character), tolower))
gabon <- gabon %>%
clean_names
gabon
gabon %>%
mutate(across(c(hunt_cat, land_use, transect_id), as.factor))
names(gabon)
gabon %>%
select(land_use) %>%
ggplot(mapping=aes(x=land_use))+
geom_bar(mapping=aes(fill=land_use))+
labs(title="number of transects for each land use type")
names(gabon)
gabon %>%
select(veg_rich, land_use) %>%
ggplot(mapping=aes(x=veg_rich, y=land_use))+
geom_boxplot(mapping=aes(fill=land_use))+
labs(x="vegation richness", y="land use types")
parking <- gabon %>%
filter(land_use=="park")
mean(parking$diversity_all_species)
logging <- gabon %>%
filter(land_use=="logging")
mean(logging$diversity_all_species)
neither <- gabon %>%
filter(land_use=="neither")
mean(neither$diversity_all_species)
names(gabon)
gabon %>%
ggplot(mapping=aes(x=veg_rich, y=rich_mammal_species))+
geom_point()+
geom_smooth(method=lm, se=F)+
labs(title="vegetation richness by mammal species richness")
gabon %>%
filter(veg_rich>15 | between(veg_dbh, 50, 60))
gabon %>%
filter(veg_rich>15 | between(veg_dbh, 50, 60))
View(gabon)
gabon %>%
filter(veg_rich>=15 | between(veg_dbh, 50, 60))
gabon %>%
filter(veg_rich>15 | between(veg_dbh, 50, 60))
gabon %>%
select(land_use, transect_id, veg_rich, rich_mammal_species) %>%
filter(veg_rich>10 & rich_mammal_species>10) %>%
arrange(veg_rich)
gabon <- gabon %>%
mutate(across(c(hunt_cat, land_use, transect_id), as.factor))
gabon <- gabon %>%
mutate(across(c(hunt_cat, land_use, transect_id), as.factor))
gabon
names(gabon)
gabon %>%
select(land_use) %>%
ggplot(mapping=aes(x=land_use))+
geom_bar(mapping=aes(fill=land_use))+
labs(title="number of transects for each land use type")
names(gabon)
gabon %>%
select(veg_rich, land_use) %>%
ggplot(mapping=aes(x=veg_rich, y=land_use))+
geom_boxplot(mapping=aes(fill=land_use))+
labs(x="vegation richness", y="land use types")
parking <- gabon %>%
filter(land_use=="park")
gabon %>%
select(veg_rich, land_use) %>%
ggplot(mapping=aes(x=veg_rich, y=land_use))+
geom_boxplot(mapping=aes(fill=land_use))+
labs(x="vegetation richness", y="land use types")
penguins %>%
filter(island=="Biscoe" | island=="Dream")
library("tidyverse")
library("janitor") #this will help with cleaning
library("palmerpenguins") #load the palmerpenguins package
options(scipen=999) #turn off scientific notation
filter(penguins, island=="Biscoe"|species=="Dream")
penguins %>%
distinct(species) #there are three presented in this row
penguins %>%
mutate(across(ends_with("mm"), ~./10)) %>% #mutate: changes existing columns/create new columns #mutate(across): apply same function to
select(species,                                                                                                 #more than one columns
bill_length_cm=bill_length_mm,
bill_depth_cm=bill_depth_mm,
flipper_length_cm=flipper_length_mm)
penguins %>%
mutate(across(ends_with("mm"), ~./10))  #e.g. ~.+
mammals <- read_csv("data/mammal_lifehistories_v2.csv") %>% clean_names()
mammals <- mammals %>%
clean_names()
mammals <- mammals %>%
clean_names()
mammals <- mammals %>%
mutate(across(where(is.character), tolower))
mammals %>%
mutate(across(everything(), tolower)) #change all numeric(dbl) to characters(chr) #be careful with numeric variables
mammals <- mammals %>%
mutate(across(where(is.character), tolower))
View(mammals)
mammals <- mammals %>%
mutate(newborn=ifelse(newborn == -999, NA, newborn),
weaning=ifelse(weaning == -999, NA, weaning),
wean_mass=ifelse(wean_mass == -999, NA, wean_mass),
afr=ifelse(afr == -999, NA, afr),
max_life=ifelse(max_life == -999, NA, max_life),
litter_size=ifelse(litter_size == -999, NA, litter_size))
View(mammals)
